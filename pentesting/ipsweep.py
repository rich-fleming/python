#!/usr/bin/python3

import subprocess
import sys

def ip_sweep(base_ip):
    for ip in range(1, 255):
        address = f"{base_ip}.{ip}"
        result = subprocess.Popen(["ping", "-c", "1", address], stdout=subprocess.PIPE, stderr=subprocess.PIPE)
        output, error = result.communicate()
        
        if "64 bytes" in output.decode('utf-8'):
            print(address)

if len(sys.argv) < 2:
    print("You forgot an IP address.")
    print("Syntax: python3 ipsweep.py 192.168.1")
else:
    ip_sweep(sys.argv[1])
